import { doc } from "$src/automation/exploits/references";

const enterEvent = new KeyboardEvent("keydown", {
  bubbles: true,
  cancelable: true,
  key: "Enter",
});

// Runs in the terminal whatever string is passed to the function
export function runTerminalCommand(str) {
  // Acquire a reference to the terminal text field
  const terminalInput = doc.getElementById("terminal-input") as HTMLInputElement;
  // Get a reference to the React event handler.
  const handler = Object.keys(terminalInput)[1];

  terminalInput.value = str;
  terminalInput[handler].onChange({ target: terminalInput });
  terminalInput.dispatchEvent(enterEvent);
}
